# 限界上下文

[视频链接](https://www.bilibili.com/video/BV1He411n7JM){target="\_blank"}

- 模型所处的语境
- 在团队协作时，各团队的领域模型的关系

## 限界上下文之间的关系（蓝皮书）

- 共享内核
  - “我们一起协商，用同一套概念同一套模型”
- 顾客供应商
  - “我要使用你的模型，你设计模型的时候考虑一下我”
- 同流者
  - “我知道你不会考虑我，为了避免麻烦，我借用你的模型”
- **防腐层（实践中最实用的方式）**
  - “知道你不会考虑我，但我也不想借用你的模型，我加一层，负责转化模型”
- 开放主机服务
  - “大家发布自己的模型作为标准，提供方确保兼容性”

## 限界上下文的主观与客观性

- 客观性：领域模型会自然呈现出比聚合更高一级别的相关性，（有些聚合之间关系较近，有些聚合之间没有直接关系，或关系较弱）
- 主观性：团队已经组织好了，为了适应团队去分拆领域模型，而且往往发生在建模之前

## 建议

- 不要制造大泥球模型：多个团队共享同一个模型，但实际上各自只使用其中的一部分。不同上下文内存在相似名称的模型是正常的。
- 不要把紧密联系的聚合分拆到两个上下文内，如果发现出现了这种情况，即使调整。
- 使用防腐层：永远不要直接引用别人的模型代码，也不要把自己的模型代码共享给别人用。只是用接口，只共享接口。
